"use strict";(self.webpackChunkATES=self.webpackChunkATES||[]).push([[975],{4975:(C,u,i)=>{i.r(u),i.d(u,{FeedbackModule:()=>S});var c=i(6895),l=i(8241),r=i(4564),e=i(8256),m=i(6954);let b=(()=>{class t{constructor(n){this.httpServ=n}getFeedbackQuestions(n){return this.httpServ.getFeedbackQuestions(n)}submitFeedback(n){return this.httpServ.submitFeedback(n)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(m.O))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=i(6849),g=i(1876);function h(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"div",13)(1,"label",14)(2,"input",15),e.NdJ("change",function(a){e.CHM(n),e.oxw();const d=e.MAs(2),T=e.oxw();return e.KtG(T.setAnswer(a,d.value))}),e.qZA(),e._uU(3),e.qZA()()}if(2&t){const n=s.$implicit,o=e.oxw().index;e.xp6(2),e.MGl("name","o",o,""),e.Q6J("value",n.optionId),e.xp6(1),e.hij("",n.option," ")}}function f(t,s){if(1&t&&(e.TgZ(0,"div",8),e._UZ(1,"input",9,10),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"div",11),e.YNc(6,h,4,3,"div",12),e.qZA()()),2&t){const n=s.$implicit,o=s.index,a=e.oxw();e.xp6(1),e.MGl("id","q",o,"")("name","q",o,""),e.Q6J("value",n.questionId),e.xp6(3),e.AsE("",o+1,".",n.question,""),e.xp6(2),e.Q6J("ngForOf",a.data.data.feedbackOptionVM)}}function v(t,s){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-error-modal",16),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("modal",n.modal)}}const k=[{path:"feedback",component:(()=>{class t{constructor(n,o){this.feedbackServ=n,this.router=o,this.isError=!1,this.modal={display:"block",heading:"Error!",body:"Unable To Fetch Quetions, Please Try Again.",btnClass:"btn btn-danger"},this.userType="",this.semesterId="",this.acadmicYear="",this.feedback=[],this.data={}}ngOnInit(){this.userType=window.sessionStorage.getItem("userType")?window.sessionStorage.getItem("userType"):"",this.semesterId=window.sessionStorage.getItem("semesterId")?window.sessionStorage.getItem("semesterId"):0,this.acadmicYear=window.sessionStorage.getItem("acadmicYear")?window.sessionStorage.getItem("acadmicYear"):"",this.feedbackServ.getFeedbackQuestions(this.userType.toString()).subscribe(n=>{!0===n.success&&n.data?this.data=n:(this.isError=!0,this.modal={display:"block",heading:"Error!",body:"Unable To Fetch Quetions, Please Try Again.",btnClass:"btn btn-danger"})})}setAnswer(n,o){this.feedback.filter(a=>a.qId==o),this.feedback.push({questionId:Number(o),selectedOptionId:Number(n.target.value)})}submitFeedback(n){this.semesterId=this.semesterId&&0!=this.semesterId?this.semesterId:0,this.feedbackServ.submitFeedback({year:this.acadmicYear,semesterId:this.semesterId,saveOptionVMS:this.feedback}).subscribe(o=>{console.log(JSON.stringify(o))}),this.isError=!0,this.modal={display:"block",heading:"Success!",body:"Feedback Submitted Successfully...!.",btnClass:"btn btn-success"},this.feedback=[]}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(b),e.Y36(r.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-feedback"]],decls:11,vars:2,consts:[[1,"container","mb-4"],[1,"text-center","mb-4"],[1,"quetion-container"],["class","quetion",4,"ngFor","ngForOf"],[1,"row","mb-4","mt-4"],[1,"col","text-center"],[1,"btn","btn-primary","px-5",3,"click"],[4,"ngIf"],[1,"quetion"],["type","hidden",3,"id","name","value"],["qId",""],[1,"option-container"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],[1,"form-check-label"],["type","radio",1,"form-check-input",3,"name","value","change"],[3,"modal"]],template:function(n,o){1&n&&(e._UZ(0,"app-logout"),e.TgZ(1,"div",0)(2,"h4",1),e._uU(3,"FEEDBACK"),e.qZA(),e.TgZ(4,"div",2),e.YNc(5,f,7,6,"div",3),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"button",6),e.NdJ("click",function(d){return o.submitFeedback(d)}),e._uU(9,"Submit"),e.qZA()()()(),e.YNc(10,v,2,1,"div",7)),2&n&&(e.xp6(5),e.Q6J("ngForOf",o.data.data.feedbackQuestionVM),e.xp6(5),e.Q6J("ngIf",o.isError))},dependencies:[c.sg,c.O5,p.y,g.t],styles:[".quetion-container[_ngcontent-%COMP%]{padding-left:10%;margin-top:10%}.quetion[_ngcontent-%COMP%]{margin-top:2%}.quetion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}"]}),t})()}];let F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[r.Bz.forChild(k),r.Bz]}),t})();var y=i(7128),I=i(3294);let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,F,l.G,y.I,I.RB]}),t})()}}]);