"use strict";(self.webpackChunkATES=self.webpackChunkATES||[]).push([[500],{9500:(b,d,i)=>{i.r(d),i.d(d,{LoginModule:()=>y});var c=i(6895),g=i(4564),n=i(8256),p=i(6954);let m=(()=>{class t{constructor(o){this.httpServ=o}signUp(o){return this.httpServ.signUp(o)}setToken(){this.httpServ.setToken()}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(p.O))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var a=i(3294),u=i(6849);function f(t,s){if(1&t&&(n.TgZ(0,"div"),n._UZ(1,"app-error-modal",6),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("modal",o.modal)}}const h=[{path:"",component:(()=>{class t{constructor(o,l,e){this.router=o,this.gLoginServ=l,this.socialAuthService=e,this.isError=!1,this.modal={display:"block",heading:"Error!",body:"Login Failed, Please Try Again."},this.isLoggedin=!1}ngOnInit(){this.socialAuthService.authState.subscribe(o=>{this.socialUser=o,this.isLoggedin=null!=o,o&&o.idToken?(window.sessionStorage.setItem("email",o.email),window.sessionStorage.setItem("name",o.name),this.isError=!1,this.signUp(o.email,o.name),this.router.navigate(["/user/dte"])):(this.isError=!0,this.modal={display:"block",heading:"Error!",body:"Login Failed, Please Try Again."})})}signUp(o,l){this.gLoginServ.signUp({email:o,name:l}).subscribe(e=>{e&&e.data&&(e.data.jwtToken&&window.sessionStorage.setItem("token",e.data.jwtToken),e.data.classList&&e.data.classList.classVM&&window.sessionStorage.setItem("selectedClass",e.data.classList.classVM[0].id),e.data.departmentListVM&&e.data.departmentListVM.departmentVMS&&window.sessionStorage.setItem("selectedDept",e.data.departmentListVM.departmentVMS[0].id),this.gLoginServ.setToken())})}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(g.F0),n.Y36(m),n.Y36(a.xE))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:8,vars:1,consts:[[1,"login-container"],[1,"google-login-text"],[1,"text-primary","text-center"],[1,"btn-container"],["id","g-btn","type","standard","text","signin_with","theme","filled_blue","size","large",1,"g-btn"],[4,"ngIf"],[3,"modal"]],template:function(o,l){1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"p",2),n._uU(3,"Please login using your Google / Gmail Account to fill the online feedback form. "),n.qZA()(),n.TgZ(4,"div",3)(5,"asl-google-signin-button",4),n._uU(6,"Google Login"),n.qZA()(),n.YNc(7,f,2,1,"div",5),n.qZA()),2&o&&(n.xp6(7),n.Q6J("ngIf",l.isError))},dependencies:[c.O5,u.y,a.TI],styles:[".google-login-text[_ngcontent-%COMP%]{color:#4285f4;font-size:18px}.btn-container[_ngcontent-%COMP%]{display:grid;margin-top:5%}.btn-container[_ngcontent-%COMP%]   .g-btn[_ngcontent-%COMP%]{justify-self:center}.login-container[_ngcontent-%COMP%]{background-color:#fff;padding:15% 0%;box-shadow:0 0 5px #fff;width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[g.Bz.forChild(h),g.Bz]}),t})();var L=i(8241);const S={oneTapEnabled:!1,scope:"profile email"};let y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:a.tV.PROVIDER_ID,provider:new a.tV("223310660195-e1jhvl63cu0h3ab1scr7lp32vqtruc7j.apps.googleusercontent.com",S)}]}}],imports:[c.ez,v,L.G,a.RB]}),t})()}}]);